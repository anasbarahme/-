<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>دفتر التخرج – أنس البراهمة 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center; /* توسيط أفقي */
  align-items: center;     /* توسيط عمودي */
  background: #f2f2f2;
}

.book-container {
  width: 900px;
  height: 550px;
}

.page{
  width:50%;height:100%;background:#fdfaf5;position:absolute;top:0;
  padding:30px;box-sizing:border-box;
  box-shadow:0 0 15px rgba(0,0,0,.2);
  transform-origin:right;
  transition:transform 0.8s;
}
.page.left{right:50%;border-left:1px solid #ccc;}
.page.right{right:0;}
.page.flipped{transform:rotateY(-180deg);}
.cover{
  background:#6b4f3f;color:#fff;text-align:center;
}
.cover h1{margin-top:150px;font-size:32px;}
textarea{
  width:100%;height:100%;border:none;resize:none;background:transparent;
  font-family:'Amiri';font-size:18px;outline:none;
}
.controls{margin:15px;display:flex;gap:10px;}
button{padding:8px 18px;font-family:'Amiri';font-size:16px;cursor:pointer;}
@media(max-width:768px){
  .book{height:420px;}
  .page{width:100%;right:0 !important;}
}
</style>
</head>
<body>
   <div class="book-container">
    <div class="book">

  <button onclick="prevPage()">◀ السابق</button>
  <button onclick="nextPage()">التالي ▶</button>
  <button onclick="exportPDF()">تصدير PDF</button>
</div>

<script>
const totalPages = 100;
let current = 0;
const book = document.getElementById('book');

function createPages(){
  // غلاف
  const cover = document.createElement('div');
  cover.className='page right cover';
  cover.innerHTML='<h1>دفتر التخرج</h1><p>أنس البراهمة</p><p>دفعة 2026</p>';
  book.appendChild(cover);

  for(let i=1;i<=totalPages;i++){
    const p = document.createElement('div');
    p.className = 'page right';
    p.style.zIndex = totalPages - i;
    p.innerHTML = `<textarea id="p${i}" placeholder="الصفحة ${i}"></textarea>`;
    book.appendChild(p);

    const saved = localStorage.getItem('p'+i);
    if(saved) document.getElementById('p'+i).value = saved;
  }
}

function nextPage(){
  if(current < book.children.length){
    book.children[current].classList.add('flipped');
    current++;
  }
}
function prevPage(){
  if(current > 0){
    current--;
    book.children[current].classList.remove('flipped');
  }
}

book.addEventListener('input', e=>{
  if(e.target.tagName==='TEXTAREA'){
    localStorage.setItem(e.target.id, e.target.value);
  }
});

function exportPDF(){
  window.print();
}

createPages();
</script>

</body>
</html>
